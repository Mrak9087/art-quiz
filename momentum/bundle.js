(()=>{"use strict";var t={589:(t,e,s)=>{t.exports=s.p+"assets/sounds/AquaCaelestis..mp3"},208:(t,e,s)=>{t.exports=s.p+"assets/sounds/EnnioMorricone..mp3"},0:(t,e,s)=>{t.exports=s.p+"assets/sounds/RiverFlowsInYou..mp3"},687:(t,e,s)=>{t.exports=s.p+"assets/sounds/SummerWind..mp3"}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,s),a.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),(()=>{class t{constructor(t,e,s="div"){this.node=document.createElement(s),this.node.className=e,t.append(this.node)}}const e={ru:{weatherWind:"Ветер",weatherSpeed:"м/с",weatherHumidity:"Влажность",weekDays:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],months:["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],placeholder:"Ваше имя",placeholderTodo:"Дело",greetings:{morning:"Доброе утро",day:"Добрый день",evening:"Добрый вечер",night:"Доброй ночи"},stWeather:"Погода",stPlayer:"Плеер",stTime:"Время",stDate:"Дата",stGreeting:"Приветствие",stQuotes:"Цитаты",stTodo:"Дела"},en:{weatherWind:"Wind",weatherSpeed:"m/s",weatherHumidity:"Humidity",weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],placeholder:"Your name",placeholderTodo:"Todo",greetings:{morning:"Good morning",day:"Good day",evening:"Good evening",night:"Good night"},stWeather:"Weather",stPlayer:"Player",stTime:"Time",stDate:"Date",stGreeting:"Greeting",stQuotes:"Quotes",stTodo:"ToDo"}};class i extends t{constructor(t){super(t,"player")}init(){this.player=new Audio,this.player.volume=.5,this.curIndex=0,this.controls=document.createElement("div"),this.controls.className="controls",this.btns=document.createElement("div"),this.btns.className="btns",this.ranges=document.createElement("div"),this.ranges.className="ranges",this.durInput=document.createElement("input"),this.durInput.classList.add("progress","video_progress"),this.durInput.type="range",this.durInput.value=0,this.durInput.min=0,this.durInput.max=100,this.soundDiv=document.createElement("div"),this.soundDiv.className="sound_container",this.soundBtn=document.createElement("button"),this.soundBtn.classList.add("player-icon","sound"),this.soundInput=document.createElement("input"),this.soundInput.classList.add("progress","sound_progress"),this.soundInput.type="range",this.soundInput.value=100*this.player.volume,this.soundInput.min=0,this.soundInput.max=100,this.soundInput.style.background=`linear-gradient(to right, #710707 0%, #710707 ${this.soundInput.value}%, #fff ${this.soundInput.value}%, white 100%)`,this.soundDiv.append(this.soundBtn,this.soundInput),this.soundInfo=document.createElement("div"),this.soundInfo.className="sound_info",this.soundName=document.createElement("div"),this.soundName.className="sound_name",this.soundTime=document.createElement("div"),this.soundTime.className="sound_time",this.soundTime.innerText="00:00 / 00:00",this.soundInfo.append(this.soundName,this.soundTime),this.ranges.append(this.soundInfo,this.durInput,this.soundDiv),this.controls.append(this.btns,this.ranges),this.prevBtn=document.createElement("button"),this.prevBtn.classList.add("play-prev","player-icon"),this.playBtn=document.createElement("button"),this.playBtn.classList.add("play","player-icon"),this.nextBtn=document.createElement("button"),this.nextBtn.classList.add("play-next","player-icon"),this.btns.append(this.prevBtn,this.playBtn,this.nextBtn),this.playListDiv=document.createElement("ul"),this.playListDiv.className="play-list",this.node.append(this.controls,this.playListDiv),this.playBtn.addEventListener("click",this.clickPlayStop),this.player.addEventListener("timeupdate",(t=>{let e=this.player.currentTime/this.player.duration*100||0;this.durInput.value=e,this.durInput.style.background=`linear-gradient(to right, #710707 0%, #710707 ${this.durInput.value}%, #fff ${this.durInput.value}%, white 100%)`;let s=Math.floor(Math.round(100*this.player.duration)/100)||0,i=Math.floor(Math.round(100*this.player.currentTime)/100);this.soundTime.innerText=`${this.addZero(Math.floor(s/60))}:${this.addZero(Math.floor(s%60))} / ${this.addZero(Math.floor(i/60))}:${this.addZero(Math.floor(i%60))}`,this.player.ended&&(this.playBtn.classList.remove("pause"),this.durInput.value=0,this.clickNext())})),this.durInput.addEventListener("input",(t=>{let e=this.durInput.value*this.player.duration/100;this.player.currentTime=e})),this.soundInput.addEventListener("input",this.changeSound),this.soundBtn.addEventListener("click",this.soundClick),this.nextBtn.addEventListener("click",this.clickNext),this.prevBtn.addEventListener("click",this.clickPrev)}changeSound=()=>{this.player.volume=this.soundInput.value/100,+this.soundInput.value?this.player.muted&&(this.player.muted=!1,this.soundBtn.classList.remove("mute")):(this.player.muted=!0,this.soundBtn.classList.add("mute")),this.soundInput.style.background=`linear-gradient(to right, #710707 0%, #710707 ${this.soundInput.value}%, #fff ${this.soundInput.value}%, white 100%)`};soundClick=()=>{this.player.muted?(this.player.muted=!1,this.soundBtn.classList.remove("mute")):(this.player.muted=!0,this.soundBtn.classList.add("mute"))};loadPlaylist=t=>{this.playList=[],t.forEach((t=>{this.playList.push(t)})),this.showList()};showList(){this.playList.forEach((t=>{const e=document.createElement("li");e.className="play-item",e.innerText=`${t.name}`,this.playListDiv.append(e)})),this.player.src=this.playList[0].src,this.listItems=this.playListDiv.querySelectorAll("li"),this.listItems[this.curIndex].classList.add("item-active"),this.listItems.forEach(((t,e)=>{t.addEventListener("click",(()=>{this.clickItem(e),t.classList.add("item-active")}))}))}clickItem=t=>{this.player.pause(),this.player.currentTime=0,this.curIndex=t,this.playBtn.classList.remove("pause"),this.player.src=this.playList[this.curIndex].src,this.durInput.value=0,this.clearActive()};clickNext=()=>{this.curIndex++,this.curIndex==this.playList.length&&(this.curIndex=0),this.player.paused||(this.player.pause(),this.playBtn.classList.remove("pause"),this.player.playbackRate=1),this.player.src=this.playList[this.curIndex].src,this.durInput.value=0,this.clearActive(),this.listItems[this.curIndex].classList.add("item-active"),this.playBtn.click()};clickPrev=()=>{this.curIndex--,this.curIndex<0&&(this.curIndex=this.playList.length-1),this.player.paused||(this.player.pause(),this.playBtn.classList.remove("pause"),this.player.playbackRate=1),this.player.src=this.playList[this.curIndex].src,this.durInput.value=0,this.clearActive(),this.listItems[this.curIndex].classList.add("item-active"),this.player.play()};clearActive(){this.listItems.forEach((t=>{t.classList.remove("item-active")}))}clickPlayStop=()=>{this.player.paused?(this.player.play(),this.playBtn.classList.add("pause")):(this.player.pause(),this.playBtn.classList.remove("pause"),this.player.playbackRate=1),this.soundName.innerText=this.listItems[this.curIndex].innerText};addZero(t){return(parseInt(t)<10?"0":"")+t}}var n=s(589),a=s(208),h=s(0),o=s(687);class r extends t{constructor(t){super(t,"weather")}init(){this.lng=localStorage.getItem("lngMom")||"ru",this.inputCity=document.createElement("input"),this.inputCity.type="text",this.inputCity.className="city",this.inputCity.addEventListener("keypress",this.setCity),this.inputCity.addEventListener("blur",this.getCity),this.inputCity.value=localStorage.getItem("cityMom")||"Минск",this.icon=document.createElement("i"),this.icon.className="weather-icon owf",this.description=document.createElement("div"),this.description.className="description-container",this.temperature=document.createElement("span"),this.temperature.className="temperature",this.weatherDescr=document.createElement("span"),this.weatherDescr.className="weather-description",this.description.append(this.temperature,this.weatherDescr),this.wind=document.createElement("div"),this.wind.className="wind",this.humidity=document.createElement("div"),this.humidity.className="humidity",this.node.append(this.inputCity,this.icon,this.description,this.wind,this.humidity),this.getWeather()}setLang(t){this.lng=t,this.getWeather()}async getWeather(){const t=`https://api.openweathermap.org/data/2.5/weather?q=${this.inputCity.value}&lang=${this.lng}&appid=3715a95b09cf4ceed9e7abf94eefccc8&units=metric`,s=await fetch(t),i=await s.json();"404"===i.cod&&(this.weatherDescr.textContent="",this.temperature.textContent="",this.wind.textContent="",this.humidity.textContent=""),this.icon.classList.add(`owf-${i.weather[0].id}`),this.temperature.textContent=`${i.main.temp}°C`,this.wind.textContent=`${e[this.lng].weatherWind}: ${i.wind.speed}${e[this.lng].weatherSpeed}`,this.humidity.textContent=`${e[this.lng].weatherHumidity}: ${i.main.humidity}%`,this.weatherDescr.textContent=i.weather[0].description}setCity=t=>{"keypress"===t.type?13!==t.which&&13!==t.keyCode||(this.inputCity.value?localStorage.setItem("cityMom",this.inputCity.value):localStorage.removeItem("cityMom"),this.inputCity.blur()):localStorage.setItem("cityMom",this.inputCity.value),this.getWeather()};getCity=()=>{null===localStorage.getItem("cityMom")?this.inputCity.value="":this.inputCity.value=localStorage.getItem("cityMom")}}class c extends t{constructor(t){super(t,"quotes")}async init(){this.lng=localStorage.getItem("lngMom")||"ru",this.btnQuote=document.createElement("button"),this.btnQuote.className="quote_btn",this.quoteText=document.createElement("div"),this.quoteText.className="quote_text",this.quoteAuthor=document.createElement("div"),this.quoteAuthor.className="quote_author",this.node.append(this.btnQuote,this.quoteText,this.quoteAuthor),this.btnQuote.addEventListener("click",this.showQuote),await this.loadQuote()}async loadQuote(){let t=await fetch(`./quotes_${this.lng}.json`),e=await t.json();this.quoteArr=e.slice(0),this.showQuote()}randomNumber(t,e){let s=t+Math.random()*(e+1-t);return Math.floor(s)}setLang(t){this.lng=t,this.loadQuote()}showQuote=()=>{let t=this.randomNumber(0,this.quoteArr.length-1);this.quoteText.innerText=this.quoteArr[t].text,this.quoteAuthor.innerText=this.quoteArr[t].author}}class l extends t{constructor(t){super(t,"todo")}init(){this.lng=localStorage.getItem("lngMom")||"ru",this.todoName=document.createElement("span"),this.todoName.innerHTML=e[this.lng].stTodo||"ToDo",this.node.append(this.todoName),this.container=document.createElement("div"),this.container.className="todo_container",this.containerTop=document.createElement("div"),this.containerTop.className="container_top",this.inputTodo=document.createElement("input"),this.inputTodo.type="text",this.inputTodo.placeholder=`[${e[this.lng].placeholderTodo}]`,this.inputTodo.className="input_todo",this.addBtn=document.createElement("button"),this.addBtn.className="add_btn",this.addBtn.innerText="+",this.addBtn.addEventListener("click",this.clickAdd),this.inputTodo.addEventListener("keypress",this.keypressTodo),this.containerTop.append(this.inputTodo,this.addBtn),this.containerList=document.createElement("div"),this.containerList.className="container_list",this.listTodo=document.createElement("ul"),this.listTodo.className="list_todo",this.arrTodo=JSON.parse(localStorage.getItem("listTodo"))||[],this.arrTodo.forEach((t=>{this.createTodoItem(t)})),this.containerList.append(this.listTodo),this.container.append(this.containerTop,this.containerList),this.node.append(this.container),this.container.addEventListener("click",this.clickContainer),this.node.addEventListener("click",this.clickNode)}setLang(t){this.lng=t,this.inputTodo.placeholder=`[${e[this.lng].placeholderTodo}]`,this.todoName.innerHTML=e[this.lng].stTodo||"ToDo"}keypressTodo=t=>{"keypress"===t.type&&(13!==t.which&&13!==t.keyCode||this.clickAdd())};clickContainer=t=>{t.stopPropagation()};clickAdd=()=>{if(this.inputTodo.value){let t={index:this.arrTodo.length,txt:this.inputTodo.value,checked:0};this.createTodoItem(t),this.inputTodo.value="",this.arrTodo.push(t),localStorage.setItem("listTodo",JSON.stringify(this.arrTodo))}};createTodoItem(t){const e=document.createElement("li");e.innerText=t.txt,e.className="todo_item",t.checked&&e.classList.add("checked"),e.dataset.index=t.index;const s=document.createElement("span");s.className="close",s.innerText="×",e.addEventListener("click",this.clickItem,!1),s.addEventListener("click",this.clickClose),e.append(s),this.listTodo.append(e)}clickItem=t=>{if(t.target.classList.contains("todo_item")){if(t.target.classList.contains("checked")){let e=+t.target.dataset.index;this.arrTodo[e].checked=0,t.target.classList.remove("checked")}else{let e=+t.target.dataset.index;this.arrTodo[e].checked=1,t.target.classList.add("checked")}localStorage.setItem("listTodo",JSON.stringify(this.arrTodo))}};clickClose=t=>{const e=t.target.closest(".todo_item");let s=+e.dataset.index;this.arrTodo.splice(s,1),this.listTodo.removeChild(e),this.arrTodo.forEach(((t,e)=>{t.index=e,this.listTodo.children[e].dataset.index=e})),localStorage.setItem("listTodo",JSON.stringify(this.arrTodo))};clickNode=t=>{this.node.classList.contains("show")&&this.node.classList.contains("app_show")?(this.node.classList.remove("app_show"),this.node.classList.remove("show")):(this.node.classList.add("show"),this.node.classList.add("app_show"))}}new class extends t{constructor(t){super(t,"app")}init(){this.arrMusic=[{name:"Aqua Caelestis",src:n},{name:"Ennio Morricone",src:a},{name:"River Flows In You",src:h},{name:"Summer Wind",src:o}],this.srcImg=localStorage.getItem("srcMom")||"git",this.catImg=localStorage.getItem("catMom")||"nature",this.flickrArr=[],this.urlImg="https://api.unsplash.com/photos/random?orientation=landscape&query=nature&client_id=g0ttMV6psSPNZi2BvJ6iYQdKu9aUV8EuEu4ZlK0mOv0",this.lng=localStorage.getItem("lngMom")||"ru",this.great="",this.imgNum=1,this.top=document.createElement("div"),this.top.className="top",this.tLeft=document.createElement("div"),this.tLeft.className="t_left",this.tRight=document.createElement("div"),this.tRight.className="t_right",this.top.append(this.tLeft,this.tRight),this.player=new i(this.tLeft),this.player.init(),this.player.loadPlaylist(this.arrMusic),this.weather=new r(this.tRight),this.weather.init(),this.content=document.createElement("div"),this.content.className="container",this.center=document.createElement("div"),this.center.className="center",this.slider=document.createElement("div"),this.slider.className="slider",this.btnSliderPrev=document.createElement("button"),this.btnSliderPrev.className="slide_prev slider_icon",this.btnSliderNext=document.createElement("button"),this.btnSliderNext.className="slide_next slider_icon",this.slider.append(this.btnSliderPrev,this.btnSliderNext),this.dateTime=document.createElement("div"),this.dateTime.className="dateTime",this.weekDays=e[this.lng].weekDays.slice(0),this.months=e[this.lng].months.slice(0),this.time=document.createElement("div"),this.time.className="time",this.date=document.createElement("div"),this.date.className="date",this.dateTime.append(this.time),this.dateTime.append(this.date),this.greatContainer=document.createElement("div"),this.greatContainer.className="greeting-container",this.greatTxt=document.createElement("p"),this.greatTxt.className="greeting",this.greatTxt.innerText=e[this.lng].greetings[this.getTimeOfDay()]||"Hello",this.greatName=document.createElement("input"),this.greatName.type="text",this.greatName.value=localStorage.getItem("momName")||"",this.greatName.placeholder=`[${e[this.lng].placeholder}]`,this.greatName.className="name",this.greatName.addEventListener("keypress",this.setName),this.greatContainer.append(this.greatTxt,this.greatName),this.center.append(this.slider,this.dateTime,this.greatContainer),this.quotes=new c(this.center),this.quotes.init(),this.bottom=document.createElement("div"),this.bottom.className="bottom",this.btLeft=document.createElement("div"),this.btLeft.className="bt_left",this.btRight=document.createElement("div"),this.btRight.className="bt_right",this.bottom.append(this.btLeft,this.btRight),this.createSittings(),this.todo=new l(this.btRight),this.todo.init(),this.content.append(this.top,this.center,this.bottom),this.btnSliderNext.addEventListener("click",this.incImg),this.btnSliderPrev.addEventListener("click",this.decImg),this.footer=document.createElement("footer"),this.footer.className="footer",this.footer.innerHTML='<div class="footer_container">\n                <a class="github" href="https://github.com/Mrak9087" target="blank">Mrak9087</a>\n                <span class="rss_year">2021</span>\n                <a class="rss" href="https://rs.school/js/" target="_blank" rel="noopener noreferrer">\n                    \n                </a>\n            </div>',this.node.append(this.content,this.footer),this.getTime(),this.getDate(),this.setBg(),this.setGreat(),this.showItems()}setName=t=>{"keypress"===t.type?13!==t.which&&13!==t.keyCode||(this.greatName.value?localStorage.setItem("momName",this.greatName.value):localStorage.removeItem("momName"),this.greatName.blur()):localStorage.setItem("momName",this.greatName.value)};clickContainerSettings=t=>{t.stopPropagation()};createSittings(){this.settings=document.createElement("div"),this.settings.className="settings",this.settingsIcon=document.createElement("div"),this.settingsIcon.className="settings_icon",this.settings.append(this.settingsIcon),this.btLeft.append(this.settings),this.settingsContainer=document.createElement("div"),this.settingsContainer.className="settings_container",this.createItems(),this.settings.append(this.settingsContainer),this.settingsContainer.addEventListener("click",this.clickContainerSettings),this.settings.addEventListener("click",this.clickSettings)}showingWidget=(t,e)=>{e.checked?t.classList.remove("hideWidget"):t.classList.add("hideWidget")};clickSettings=t=>{this.settings.classList.contains("show")&&this.settings.classList.contains("app_show")?(this.settings.classList.remove("app_show"),this.settings.classList.remove("show")):(this.settings.classList.add("show"),this.settings.classList.add("app_show"))};createItems(){this.stWeather=document.createElement("div"),this.stWeather.className="stItem",this.stWeatherTitle=document.createElement("span"),this.stWeatherTitle.innerText=e[this.lng].stWeather||"Weather",this.stWeatherCheck=document.createElement("input"),this.stWeatherCheck.type="checkbox",this.stWeatherCheck.checked=!0,this.stWeather.append(this.stWeatherTitle,this.stWeatherCheck),this.stPlayer=document.createElement("div"),this.stPlayer.className="stItem",this.stPlayerTitle=document.createElement("span"),this.stPlayerTitle.innerText=e[this.lng].stPlayer||"Player",this.stPlayerCheck=document.createElement("input"),this.stPlayerCheck.type="checkbox",this.stPlayerCheck.checked=!0,this.stPlayer.append(this.stPlayerTitle,this.stPlayerCheck),this.stTime=document.createElement("div"),this.stTime.className="stItem",this.stTimeTitle=document.createElement("span"),this.stTimeTitle.innerText=e[this.lng].stTime||"Time",this.stTimeCheck=document.createElement("input"),this.stTimeCheck.type="checkbox",this.stTimeCheck.checked=!0,this.stTime.append(this.stTimeTitle,this.stTimeCheck),this.stDate=document.createElement("div"),this.stDate.className="stItem",this.stDateTitle=document.createElement("span"),this.stDateTitle.innerText=e[this.lng].stDate||"Date",this.stDateCheck=document.createElement("input"),this.stDateCheck.type="checkbox",this.stDateCheck.checked=!0,this.stDate.append(this.stDateTitle,this.stDateCheck),this.stGreeting=document.createElement("div"),this.stGreeting.className="stItem",this.stGreetingTitle=document.createElement("span"),this.stGreetingTitle.innerText=e[this.lng].stGreeting||"Greeting",this.stGreetingCheck=document.createElement("input"),this.stGreetingCheck.type="checkbox",this.stGreetingCheck.checked=!0,this.stGreeting.append(this.stGreetingTitle,this.stGreetingCheck),this.stQuotes=document.createElement("div"),this.stQuotes.className="stItem",this.stQuotesTitle=document.createElement("span"),this.stQuotesTitle.innerText=e[this.lng].stDate||"Quotes",this.stQuotesCheck=document.createElement("input"),this.stQuotesCheck.type="checkbox",this.stQuotesCheck.checked=!0,this.stQuotes.append(this.stQuotesTitle,this.stQuotesCheck),this.stTodo=document.createElement("div"),this.stTodo.className="stItem",this.stTodoTitle=document.createElement("span"),this.stTodoTitle.innerText=e[this.lng].stTodo||"ToDo",this.stTodoCheck=document.createElement("input"),this.stTodoCheck.type="checkbox",this.stTodoCheck.checked=!0,this.stTodo.append(this.stTodoTitle,this.stTodoCheck),this.stLang=document.createElement("div"),this.stLang.className="stLang",this.stRu=document.createElement("input"),this.stRu.type="radio",this.stRu.name="lang",this.stRu.id="langRu",this.stRu.value="ru",this.lRu=document.createElement("label"),this.lRu.className="langLabel",this.rSpan=document.createElement("span"),this.rSpan.innerText="ru",this.lRu.append(this.stRu,this.rSpan),this.stEn=document.createElement("input"),this.stEn.type="radio",this.stEn.name="lang",this.stEn.id="langEn",this.stEn.value="en",this.lEn=document.createElement("label"),this.lEn.className="langLabel",this.eSpan=document.createElement("span"),this.eSpan.innerText="en",this.lEn.append(this.stEn,this.eSpan),localStorage.getItem("lngMom")&&"ru"!=localStorage.getItem("lngMom")?"en"==localStorage.getItem("lngMom")&&(this.stEn.checked=!0):this.stRu.checked=!0,this.stLang.append(this.lRu,this.lEn),this.stSrcImg=document.createElement("div"),this.stSrcImg.className="stSrcImg",this.stGit=document.createElement("input"),this.stGit.type="radio",this.stGit.name="srcimg",this.stGit.id="srcGit",this.stGit.value="git",this.lGit=document.createElement("label"),this.lGit.className="srcLabel",this.gitSpan=document.createElement("span"),this.gitSpan.innerText="git",this.lGit.append(this.stGit,this.gitSpan),this.stUnsplash=document.createElement("input"),this.stUnsplash.type="radio",this.stUnsplash.name="srcimg",this.stUnsplash.id="srcUnsplash",this.stUnsplash.value="unsplash",this.lUnsplash=document.createElement("label"),this.lUnsplash.className="srcLabel",this.unsplashSpan=document.createElement("span"),this.unsplashSpan.innerText="unsplash",this.lUnsplash.append(this.stUnsplash,this.unsplashSpan),this.stFlickr=document.createElement("input"),this.stFlickr.type="radio",this.stFlickr.name="srcimg",this.stFlickr.id="srcFlickr",this.stFlickr.value="flickr",this.lFlickr=document.createElement("label"),this.lFlickr.className="srcLabel",this.flickrSpan=document.createElement("span"),this.flickrSpan.innerText="flickr",this.lFlickr.append(this.stFlickr,this.flickrSpan),this.selCat=document.createElement("select"),this.selCat.className="selCat",this.selCat.disabled=!0,this.opNature=document.createElement("option"),this.opNature.value="nature",this.opNature.innerText="nature",this.opEven=document.createElement("option"),this.opEven.value="evening",this.opEven.innerText="evening",this.opMorn=document.createElement("option"),this.opMorn.value="morning",this.opMorn.innerText="morning",this.selCat.append(this.opNature,this.opEven,this.opMorn),this.selCat.addEventListener("change",this.changeCat),localStorage.getItem("srcMom")&&"git"!=localStorage.getItem("srcMom")?"unsplash"==localStorage.getItem("srcMom")?(this.stUnsplash.checked=!0,this.selCat.disabled=!1):"flickr"==localStorage.getItem("srcMom")&&(this.stFlickr.checked=!0,this.selCat.disabled=!1):(this.stGit.checked=!0,this.selCat.disabled=!0),this.stSrcImg.append(this.lGit,this.lUnsplash,this.lFlickr),this.stGit.addEventListener("change",this.changeSrc),this.stUnsplash.addEventListener("change",this.changeSrc),this.stFlickr.addEventListener("change",this.changeSrc),this.stRu.addEventListener("change",this.changeLng),this.stEn.addEventListener("change",this.changeLng),this.stWeatherCheck.addEventListener("change",(()=>{localStorage.setItem("showWeather",this.stWeatherCheck.checked),this.showingWidget(this.weather.node,this.stWeatherCheck)})),this.stPlayerCheck.addEventListener("change",(()=>{localStorage.setItem("showPlayer",this.stPlayerCheck.checked),this.showingWidget(this.player.node,this.stPlayerCheck)})),this.stTimeCheck.addEventListener("change",(()=>{localStorage.setItem("showTime",this.stTimeCheck.checked),this.showingWidget(this.time,this.stTimeCheck)})),this.stDateCheck.addEventListener("change",(()=>{localStorage.setItem("showDate",this.stDateCheck.checked),this.showingWidget(this.date,this.stDateCheck)})),this.stGreetingCheck.addEventListener("change",(()=>{localStorage.setItem("showGreeting",this.stGreetingCheck.checked),this.showingWidget(this.greatContainer,this.stGreetingCheck)})),this.stQuotesCheck.addEventListener("change",(()=>{localStorage.setItem("showQuotes",this.stQuotesCheck.checked),this.showingWidget(this.quotes.node,this.stQuotesCheck)})),this.stTodoCheck.addEventListener("change",(()=>{localStorage.setItem("showTodo",this.stTodoCheck.checked),this.showingWidget(this.todo.node,this.stTodoCheck)})),this.settingsContainer.append(this.stWeather,this.stPlayer,this.stTime,this.stDate,this.stGreeting,this.stQuotes,this.stTodo,this.stLang,this.stSrcImg,this.selCat)}showItems(){let t=localStorage.getItem("showWeather"),e=localStorage.getItem("showPlayer"),s=localStorage.getItem("showTime"),i=localStorage.getItem("showDate"),n=localStorage.getItem("showGreeting"),a=localStorage.getItem("showQuotes"),h=localStorage.getItem("showTodo");null===t||"true"===t?(this.stWeatherCheck.checked=!0,this.showingWidget(this.weather.node,this.stWeatherCheck)):(this.stWeatherCheck.checked=!1,this.showingWidget(this.weather.node,this.stWeatherCheck)),null===e||"true"===e?(this.stPlayerCheck.checked=!0,this.showingWidget(this.player.node,this.stPlayerCheck)):(this.stPlayerCheck.checked=!1,this.showingWidget(this.player.node,this.stPlayerCheck)),null===s||"true"===s?(this.stTimeCheck.checked=!0,this.showingWidget(this.time,this.stTimeCheck)):(this.stTimeCheck.checked=!1,this.showingWidget(this.time,this.stTimeCheck)),null===i||"true"===i?(this.stDateCheck.checked=!0,this.showingWidget(this.date,this.stDateCheck)):(this.stDateCheck.checked=!1,this.showingWidget(this.date,this.stDateCheck)),null===n||"true"===n?(this.stGreetingCheck.checked=!0,this.showingWidget(this.greatContainer,this.stGreetingCheck)):(this.stGreetingCheck.checked=!1,this.showingWidget(this.greatContainer,this.stGreetingCheck)),null===a||"true"===a?(this.stQuotesCheck.checked=!0,this.showingWidget(this.quotes.node,this.stQuotesCheck)):(this.stQuotesCheck.checked=!1,this.showingWidget(this.quotes.node,this.stQuotesCheck)),null===h||"true"===h?(this.stTodoCheck.checked=!0,this.showingWidget(this.todo.node,this.stTodoCheck)):(this.stTodoCheck.checked=!1,this.showingWidget(this.todo.node,this.stTodoCheck))}changeLng=t=>{localStorage.setItem("lngMom",t.target.value),this.setLang(t.target.value)};changeSrc=t=>{localStorage.setItem("srcMom",t.target.value),this.srcImg=t.target.value,"git"!==this.srcImg?(this.catImg=this.selCat.value,this.selCat.disabled=!1):this.selCat.disabled=!0,this.setBg()};changeCat=t=>{localStorage.setItem("catMom",this.selCat.value),this.catImg=this.selCat.value,this.setBg()};setLang(t){this.lng=t,this.weekDays=e[this.lng].weekDays.slice(0),this.months=e[this.lng].months.slice(0),this.greatName.placeholder=`[${e[this.lng].placeholder}]`,this.weather.setLang(this.lng),this.todo.setLang(this.lng),this.quotes.setLang(this.lng),this.setGreat(),this.getDate(),this.stWeatherTitle.innerText=e[this.lng].stWeather||"Weather",this.stPlayerTitle.innerText=e[this.lng].stPlayer||"Player",this.stTimeTitle.innerText=e[this.lng].stTime||"Time",this.stDateTitle.innerText=e[this.lng].stDate||"Date",this.stGreetingTitle.innerText=e[this.lng].stGreeting||"Greeting",this.stQuotesTitle.innerText=e[this.lng].stDate||"Quotes",this.stTodoTitle.innerText=e[this.lng].stTodo||"ToDo"}async getLinkToImage(){let t="";if("unsplash"==this.srcImg){t=`https://api.unsplash.com/photos/random?orientation=landscape&query=${this.catImg}&client_id=g0ttMV6psSPNZi2BvJ6iYQdKu9aUV8EuEu4ZlK0mOv0`;let e=await fetch(t),s=await e.json();const i=new Image;i.src=s.urls.regular,i.onload=()=>{document.body.style=`background-image: url("${i.src}")`}}if("flickr"==this.srcImg){if(!this.flickrArr.length){t=`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=5f5f7f3938d7b1123512b9bcca33f33a&tags=${this.catImg}&extras=url_h&format=json&nojsoncallback=1`;let e=await fetch(t),s=await e.json();this.flickrArr=s.photos.photo.slice(0)}const e=new Image;e.src=this.flickrArr[this.imgNum].url_h,e.onload=()=>{document.body.style=`background-image: url("${e.src}")`}}}setBg=()=>{"git"===this.srcImg?(this.great=this.getTimeOfDay(),this.imgNum=this.getRandomNum(1,20),this.setImg()):this.getLinkToImage()};setGreat=()=>{this.greatTxt.innerText=e[this.lng].greetings[this.getTimeOfDay()];let t=new Date,s=3600-(60*t.getMinutes()+t.getSeconds());this.setBg(),setTimeout(this.setGreat,1e3*s)};setImg(){const t=new Image;t.src=`https://raw.githubusercontent.com/Mrak9087/stage1-tasks/assets/images/${this.great}/${this.addZero(this.imgNum)}.jpg`,t.onload=()=>{document.body.style=`background-image: url("${t.src}")`}}incImg=()=>{this.imgNum++,this.imgNum>20&&(this.imgNum=1),"git"===this.srcImg?this.setImg():(this.srcImg,this.getLinkToImage())};decImg=()=>{this.imgNum--,this.imgNum<1&&(this.imgNum=20),"git"==this.srcImg?this.setImg():this.getLinkToImage()};getRandomNum(t,e){let s=t+Math.random()*(e+1-t);return Math.floor(s)}getTime=()=>{const t=new Date,e=t.getHours(),s=t.getMinutes(),i=t.getSeconds();this.time.innerHTML=`${e}<span>:</span>${this.addZero(s)}<span>:</span>${this.addZero(i)}`,setTimeout(this.getTime,1e3)};getDate=()=>{const t=new Date,e=t.getDay(),s=t.getMonth();"ru"===this.lng&&(this.date.innerHTML=`${this.weekDays[e]}, ${this.addZero(t.getDate())} ${this.months[s]}`),"en"===this.lng&&(this.date.innerHTML=`${this.weekDays[e]}, ${this.months[s]} ${this.addZero(t.getDate())}`)};getTimeOfDay(){const t=(new Date).getHours();switch(Math.floor(t/6)){case 0:return"night";case 1:return"morning";case 2:return"day";case 3:return"evening"}}addZero(t){return(parseInt(t)<10?"0":"")+t}}(document.body).init()})()})();